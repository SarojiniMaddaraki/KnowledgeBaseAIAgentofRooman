# ðŸ—ï¸ Rooman AI Agent - Architecture Diagram

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                                      â”‚
â”‚                        ROOMAN AI AGENT                               â”‚
â”‚                   Knowledge Base Assistant                           â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Complete Architecture Flow

```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ                       LAYER 1: USER INTERFACE                      â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   STREAMLIT WEBAPP   â”‚
                    â”‚  (Frontend UI)       â”‚
                    â”‚                      â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚  â”‚  Login/Signup  â”‚  â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚  â”‚  Chat Interfaceâ”‚  â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
                    â”‚  â”‚  Quick Actions â”‚  â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ User Actions
                               â–¼

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ                   LAYER 2: AUTHENTICATION                          â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  FIREBASE AUTH       â”‚
                    â”‚  (Pyrebase)          â”‚
                    â”‚                      â”‚
                    â”‚  â€¢ Email/Password    â”‚
                    â”‚  â€¢ User Management   â”‚
                    â”‚  â€¢ Session Tokens    â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                   â”‚                       â”‚
            Authenticated              Not Auth
                   â”‚                       â”‚
                   â–¼                       â–¼
            Dashboard              Login Screen
                   â”‚
                   â”‚
                   â–¼

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ                    LAYER 3: CORE RAG PIPELINE                      â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚          USER QUESTION INPUT               â”‚
        â”‚   "What courses does Rooman offer?"        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     SENTENCE TRANSFORMER EMBEDDING         â”‚
        â”‚                                            â”‚
        â”‚  Model: all-mpnet-base-v2                 â”‚
        â”‚  Input: Text String                        â”‚
        â”‚  Output: 768-dimensional vector            â”‚
        â”‚  Example: [0.23, -0.45, 0.67, ...]        â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Query Vector
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚       PINECONE VECTOR DATABASE             â”‚
        â”‚                                            â”‚
        â”‚  â€¢ Cosine Similarity Search                â”‚
        â”‚  â€¢ Retrieves Top-5 Matches                 â”‚
        â”‚  â€¢ Returns: Text + Metadata + Scores       â”‚
        â”‚                                            â”‚
        â”‚  Index: rooman-kb                          â”‚
        â”‚  Dimension: 768                            â”‚
        â”‚  Metric: Cosine                            â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Retrieved Chunks
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚        CONTEXT AGGREGATION                 â”‚
        â”‚                                            â”‚
        â”‚  Chunk 1: "Rooman offers Data Science..."  â”‚
        â”‚  Chunk 2: "PMKVY certified programs..."    â”‚
        â”‚  Chunk 3: "Job guarantee with 100%..."     â”‚
        â”‚  Chunk 4: "Python, ML, AI courses..."      â”‚
        â”‚  Chunk 5: "6-month training programs..."   â”‚
        â”‚                                            â”‚
        â”‚  â†’ Combined Context (max 2000 tokens)      â”‚
        â”‚  â†’ Extract Source Files                    â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Context + Question
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         GEMINI 2.0 FLASH (LLM)            â”‚
        â”‚                                            â”‚
        â”‚  Prompt Template:                          â”‚
        â”‚  "You are Rooman AI assistant.            â”‚
        â”‚   Context: {retrieved_context}             â”‚
        â”‚   Question: {user_question}                â”‚
        â”‚   Provide detailed answer..."              â”‚
        â”‚                                            â”‚
        â”‚  â†’ Generates Natural Language Answer       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚ Generated Answer
                        â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚        RESPONSE FORMATTING                 â”‚
        â”‚                                            â”‚
        â”‚  â€¢ Answer Text                             â”‚
        â”‚  â€¢ Source Tags                             â”‚
        â”‚  â€¢ Confidence Scores                       â”‚
        â”‚  â€¢ Number of Chunks Used                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â”‚
                        â”‚
                        â–¼

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”“
â”ƒ                 LAYER 4: DATA PERSISTENCE                          â”ƒ
â”—â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”›

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  FIREBASE REALTIME   â”‚
                    â”‚      DATABASE        â”‚
                    â”‚                      â”‚
                    â”‚  /users/{uid}/       â”‚
                    â”‚    â”œâ”€ email          â”‚
                    â”‚    â”œâ”€ created_at     â”‚
                    â”‚    â””â”€ /chats/        â”‚
                    â”‚         â”œâ”€ chat_1    â”‚
                    â”‚         â”œâ”€ chat_2    â”‚
                    â”‚         â””â”€ ...       â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â”‚ Save/Load
                               â–¼
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         DISPLAY TO USER                    â”‚
        â”‚                                            â”‚
        â”‚  ðŸ‘¤ User: "What courses..."                â”‚
        â”‚  ðŸ¤– AI: "Rooman offers the following..."   â”‚
        â”‚  ðŸ“š Sources: [course_catalog.pdf]          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Component Details

### 1. Frontend Layer (Streamlit)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        STREAMLIT UI                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Login/Signup Forms               â”‚
â”‚  â€¢ Chat Interface (st.chat_input)   â”‚
â”‚  â€¢ Message Display (st.chat_message)â”‚
â”‚  â€¢ Sidebar (Quick Questions)        â”‚
â”‚  â€¢ Statistics Dashboard             â”‚
â”‚  â€¢ Session State Management         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Technologies:**
- `streamlit==1.31.0`
- Custom CSS for Rooman branding
- Session state for chat history

---

### 2. Authentication (Firebase)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      FIREBASE AUTHENTICATION        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Pyrebase4 Library                  â”‚
â”‚                                     â”‚
â”‚  Functions:                         â”‚
â”‚  â”œâ”€ create_user_with_email()        â”‚
â”‚  â”œâ”€ sign_in_with_email()            â”‚
â”‚  â”œâ”€ get_account_info()              â”‚
â”‚  â””â”€ refresh_token()                 â”‚
â”‚                                     â”‚
â”‚  Storage:                           â”‚
â”‚  â””â”€ Firebase Auth Users             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API Endpoints:**
- `POST /v1/accounts:signUp`
- `POST /v1/accounts:signInWithPassword`

---

### 3. Embedding Generation

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SENTENCE TRANSFORMER              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Model: all-mpnet-base-v2           â”‚
â”‚  Dimension: 768                     â”‚
â”‚  Max Tokens: 512                    â”‚
â”‚                                     â”‚
â”‚  Input:  "What courses..."          â”‚
â”‚  Output: [0.234, -0.456, ...]       â”‚
â”‚                                     â”‚
â”‚  Cached with @st.cache_resource     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Library:** `sentence-transformers==2.3.1`

---

### 4. Vector Search (Pinecone)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        PINECONE INDEX               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Index Name: rooman-kb              â”‚
â”‚  Dimension: 768                     â”‚
â”‚  Metric: Cosine                     â”‚
â”‚  Cloud: AWS (us-east-1)             â”‚
â”‚                                     â”‚
â”‚  Query Parameters:                  â”‚
â”‚  â”œâ”€ vector: [query_embedding]       â”‚
â”‚  â”œâ”€ top_k: 5                        â”‚
â”‚  â””â”€ include_metadata: True          â”‚
â”‚                                     â”‚
â”‚  Returns:                           â”‚
â”‚  â”œâ”€ matches[].id                    â”‚
â”‚  â”œâ”€ matches[].score                 â”‚
â”‚  â”œâ”€ matches[].metadata.text         â”‚
â”‚  â””â”€ matches[].metadata.source       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

### 5. LLM Generation (Gemini)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       GOOGLE GEMINI 2.0 FLASH       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Model: gemini-2.0-flash-exp        â”‚
â”‚  Max Tokens: 8192                   â”‚
â”‚  Temperature: 0.7                   â”‚
â”‚                                     â”‚
â”‚  Prompt Structure:                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ System: You are Rooman AI   â”‚   â”‚
â”‚  â”‚ Context: {retrieved_chunks}  â”‚   â”‚
â”‚  â”‚ Question: {user_query}       â”‚   â”‚
â”‚  â”‚ Instructions: Answer based   â”‚   â”‚
â”‚  â”‚ only on context...           â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”‚  Response: Natural language answer  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**API:** `google.generativeai==0.3.2`

---

### 6. Data Storage (Firebase)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    FIREBASE REALTIME DATABASE       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Structure:                         â”‚
â”‚                                     â”‚
â”‚  /users/                            â”‚
â”‚    /{user_id}/                      â”‚
â”‚      â”œâ”€ email: "user@example.com"   â”‚
â”‚      â”œâ”€ created_at: "2024-11-29"    â”‚
â”‚      â””â”€ /chats/                     â”‚
â”‚           â”œâ”€ {chat_id_1}/           â”‚
â”‚           â”‚    â”œâ”€ role: "user"      â”‚
â”‚           â”‚    â”œâ”€ content: "..."    â”‚
â”‚           â”‚    â”œâ”€ sources: [...]    â”‚
â”‚           â”‚    â””â”€ timestamp: ...    â”‚
â”‚           â”œâ”€ {chat_id_2}/           â”‚
â”‚           â””â”€ ...                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Data Flow Example

### Question: "What courses does Rooman offer?"

```
1. USER INPUT
   â””â”€> "What courses does Rooman offer?"

2. EMBEDDING
   â””â”€> [0.23, -0.45, 0.67, ..., 0.12]  (768 dimensions)

3. PINECONE SEARCH
   â””â”€> Retrieved 5 chunks:
       â€¢ Chunk 1: "Rooman Technologies offers comprehensive..." (Score: 0.92)
       â€¢ Chunk 2: "Data Science and AI courses include..." (Score: 0.89)
       â€¢ Chunk 3: "PMKVY certified training programs..." (Score: 0.85)
       â€¢ Chunk 4: "Full-stack development bootcamp..." (Score: 0.82)
       â€¢ Chunk 5: "Digital marketing courses with..." (Score: 0.79)

4. CONTEXT BUILDING
   â””â”€> Combined context: "Rooman Technologies offers comprehensive 
       training in Data Science, AI, Full-stack Development, and 
       Digital Marketing. All courses are PMKVY certified..."

5. GEMINI GENERATION
   â””â”€> "Rooman Technologies offers the following courses:
       â€¢ Data Science & Artificial Intelligence
       â€¢ Full-Stack Web Development
       â€¢ Digital Marketing
       â€¢ Python Programming
       All courses include job placement assistance..."

6. SAVE TO FIREBASE
   â””â”€> /users/{uid}/chats/{chat_id}
       {
         "role": "assistant",
         "content": "Rooman Technologies offers...",
         "sources": ["courses.pdf", "catalog.pdf"],
         "timestamp": "2024-11-29T10:30:00Z"
       }

7. DISPLAY
   â””â”€> User sees formatted answer with source tags
```

---

## Performance Metrics

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      SYSTEM PERFORMANCE              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Embedding Time:      ~100ms         â”‚
â”‚  Pinecone Search:     ~200ms         â”‚
â”‚  Gemini Generation:   ~1500ms        â”‚
â”‚  Firebase Save:       ~50ms          â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€        â”‚
â”‚  Total Response:      ~2 seconds     â”‚
â”‚                                      â”‚
â”‚  Accuracy:            90%+           â”‚
â”‚  Uptime:              99.9%          â”‚
â”‚  Concurrent Users:    100+           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      SECURITY LAYERS                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. Firebase Auth                   â”‚
â”‚     â””â”€> Email verification          â”‚
â”‚     â””â”€> Secure password hashing     â”‚
â”‚                                     â”‚
â”‚  2. API Key Protection              â”‚
â”‚     â””â”€> Environment variables       â”‚
â”‚     â””â”€> Server-side only            â”‚
â”‚                                     â”‚
â”‚  3. Database Rules                  â”‚
â”‚     â””â”€> User-specific access        â”‚
â”‚     â””â”€> Read/write permissions      â”‚
â”‚                                     â”‚
â”‚  4. HTTPS Encryption                â”‚
â”‚     â””â”€> All API calls encrypted     â”‚
â”‚     â””â”€> TLS 1.2+                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Scalability Considerations

```
Current Setup:
â”œâ”€ Firebase Free Tier: 100 concurrent users
â”œâ”€ Pinecone Free Tier: 100K vectors
â””â”€ Gemini API: Rate limited

Future Scaling:
â”œâ”€ Firebase Blaze Plan: Unlimited users
â”œâ”€ Pinecone Starter: 5M vectors
â”œâ”€ Load Balancer: Multiple instances
â””â”€ Caching Layer: Redis for responses
```

---

